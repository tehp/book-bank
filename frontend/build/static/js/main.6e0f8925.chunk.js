(this["webpackJsonpbook-bank"]=this["webpackJsonpbook-bank"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},3:function(e){e.exports=JSON.parse('{"api":{"url":"https://eki60x9m4a.execute-api.us-east-1.amazonaws.com/dev"}}')},32:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(26),i=n.n(a),r=n(5),o=n(2),l=(n(32),n(19),n(20),n(8)),j=n(9),h=n(11),u=n(10),b=n.p+"static/media/book.a8f23354.webp",d=n(0),p=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(d.jsx)("header",{className:"App-header",children:Object(d.jsxs)("nav",{children:[Object(d.jsxs)(r.b,{class:"brand",to:"/",children:[Object(d.jsx)("img",{class:"logo",src:b,alt:"logo"}),Object(d.jsx)("span",{children:"Book Bank"})]}),Object(d.jsx)("input",{id:"bmenub",type:"checkbox",class:"show"}),Object(d.jsx)("label",{for:"bmenub",class:"burger pseudo button",children:"Menu"}),Object(d.jsxs)("div",{class:"menu",children:[Object(d.jsx)(r.b,{class:"button success",to:"/newlisting",children:"New Listing"}),Object(d.jsx)(r.b,{class:"button success",to:"/new-review",children:"New Review"}),Object(d.jsx)(r.b,{class:"button success",to:"/user-reviews",children:"See Reviews"}),Object(d.jsx)(r.b,{class:"pseudo button",to:"/login",children:"Login"}),Object(d.jsx)(r.b,{class:"button",to:"/register",children:"Register"})]})]})})}}]),n}(c.a.Component),O=n(18),x=n(14),v=n.p+"static/media/book.f7479a13.jpeg",m=n(3),g=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={books:[],search_book:"",search_location:""},e.handleChange=e.handleChange.bind(Object(x.a)(e)),e}return Object(j.a)(n,[{key:"updateSearch",value:function(e){var t=this;console.log(JSON.stringify(e));var n=m.api.url+"/listings?book="+e;fetch(n).then((function(e){return e.json()})).then((function(e){console.log(e);var n="";n=0===Object.keys(e).length?"Uh oh. Looks like there aren't any books available for this search.":e.map((function(e){console.log(e.ListingID);var t="/listing/"+e.ListingID;return Object(d.jsx)("div",{children:Object(d.jsxs)("article",{class:"card",children:[Object(d.jsx)("img",{src:v,alt:e.name}),Object(d.jsxs)("footer",{children:[Object(d.jsx)("h3",{children:e.Book}),Object(d.jsx)("p",{children:"by: David Foster Wallace"}),Object(d.jsxs)("p",{children:["Location: ",e.Location]}),Object(d.jsxs)("p",{children:["Posted by: ",e.Username]}),Object(d.jsx)("div",{children:Object(d.jsx)(r.b,{class:"",to:t,children:Object(d.jsx)("button",{children:"View"})})}),Object(d.jsx)("div",{children:Object(d.jsx)(r.b,{class:"",to:t,children:Object(d.jsx)("button",{class:"error",children:"Remove"})})})]})]})},e.ListingID)})),t.setState({feed:n})}))}},{key:"handleChange",value:function(e){var t=e.target,n=t.value,s=t.name;this.setState(Object(O.a)({},s,n)),this.updateSearch(e.target.value)}},{key:"componentDidMount",value:function(){var e=this,t=m.api.url+"/listings";fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t);var n="";n=0===Object.keys(t).length?"Uh oh. Looks like there aren't any books available for this search.":t.map((function(e){console.log(e.ListingID);var t="/listing/"+e.ListingID;return Object(d.jsx)("div",{children:Object(d.jsxs)("article",{class:"card",children:[Object(d.jsx)("img",{src:v,alt:e.name}),Object(d.jsxs)("footer",{children:[Object(d.jsx)("h3",{children:e.Book}),Object(d.jsx)("p",{children:"by: David Foster Wallace"}),Object(d.jsxs)("p",{children:["Location: ",e.Location]}),Object(d.jsxs)("p",{children:["Posted by: ",e.Username]}),Object(d.jsx)("div",{children:Object(d.jsx)(r.b,{class:"",to:t,children:Object(d.jsx)("button",{children:"View"})})}),Object(d.jsx)("div",{children:Object(d.jsx)(r.b,{class:"",to:t,children:Object(d.jsx)("button",{class:"error",children:"Remove"})})})]})]})},e.ListingID)})),console.log("feed"+n),e.setState({feed:n})}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{class:"flex three-800 one",children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",placeholder:"Book",value:this.state.search_book,name:"search_book",onChange:this.handleChange})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"text",placeholder:"Location",value:this.state.search_location,name:"search_location",onChange:this.handleChange})}),Object(d.jsx)("div",{class:"menu",children:Object(d.jsxs)("select",{children:[Object(d.jsx)("option",{children:"Novels"}),Object(d.jsx)("option",{children:"Textbooks"}),Object(d.jsx)("option",{children:"Magazines"}),Object(d.jsx)("option",{children:"Other"})]})})]}),Object(d.jsx)("div",{class:"results flex four-1100 three-800 two-500 one",children:this.state.feed})]})}}]),n}(c.a.Component);var f=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{class:"content",children:[Object(d.jsx)("h2",{children:"Welcome to Book Bank: The peer to peer library for physical books."}),Object(d.jsx)(g,{})]})]})};var y=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{class:"content",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsxs)("fieldset",{class:"flex two-800 one",children:[Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"email",placeholder:"Email"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"password",placeholder:"Password"})})]}),Object(d.jsx)("button",{children:"Login"})]})]})},k=n(13),w=n.n(k),C=n(16),S=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={email:"",username:"",location:""},s.handleInputChange=s.handleInputChange.bind(Object(x.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(x.a)(s)),s}return Object(j.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,s=t.name;this.setState(Object(O.a)({},s,n))}},{key:"handleSubmit",value:function(e){var t=this;Object(C.a)(w.a.mark((function e(){var n,s,c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.api.url+"/users",console.log(JSON.stringify(t.state)),e.next=4,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t.state)});case 4:return s=e.sent,e.next=7,s.json();case 7:200===(c=e.sent).statusCode&&(a="/user/"+t.state.username,console.log("redirecting to new user: "+a),t.props.history.push(a),console.log(c));case 9:case"end":return e.stop()}}),e)})))(),e.preventDefault()}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{class:"content",children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsxs)("form",{class:"flex two-800 one",onSubmit:this.handleSubmit,children:[Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"email",value:this.state.email,name:"email",onChange:this.handleInputChange,placeholder:"Email"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"password",placeholder:"Password"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.username,name:"username",onChange:this.handleInputChange,placeholder:"Username"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.location,name:"location",onChange:this.handleInputChange,placeholder:"Location"})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"submit",value:"Submit"})})]})]})]})}}]),n}(c.a.Component),L=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={username:"",location:"",book:"",duration:"",author:""},s.handleInputChange=s.handleInputChange.bind(Object(x.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(x.a)(s)),s}return Object(j.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,s=t.name;this.setState(Object(O.a)({},s,n))}},{key:"handleSubmit",value:function(e){var t=this;Object(C.a)(w.a.mark((function e(){var n,s,c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.api.url+"/listings",e.next=3,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t.state)});case 3:return s=e.sent,e.next=6,s.json();case 6:200===(c=e.sent).statusCode&&(a="/listing/"+c.body.listingID,console.log("redirecting to new post: "+a),t.props.history.push(a));case 8:case"end":return e.stop()}}),e)})))(),e.preventDefault()}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{class:"content",children:[Object(d.jsx)("h1",{children:"New Listing"}),Object(d.jsx)("h4",{children:"Item Information"}),Object(d.jsxs)("form",{class:"flex two-800 one",onSubmit:this.handleSubmit,children:[Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.book,name:"book",onChange:this.handleInputChange,placeholder:"Book Title"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.author,name:"author",onChange:this.handleInputChange,placeholder:"Author"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.location,name:"location",onChange:this.handleInputChange,placeholder:"Location"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.duration,name:"duration",onChange:this.handleInputChange,placeholder:"Duration"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:this.state.username,name:"username",onChange:this.handleInputChange,placeholder:"Username"})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"submit",value:"Submit"})})]}),Object(d.jsx)("h4",{children:"Photo of book (highly reccomended)"}),Object(d.jsx)("div",{style:{width:200},children:Object(d.jsx)("label",{class:"dropimage",children:Object(d.jsx)("input",{title:"Drop image or click me",type:"file"})})})]})]})}}]),n}(c.a.Component),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={listing:{},listing_id:""},s}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log("setting state id: "+t),this.setState({listing_id:t}),console.log("state: "+this.state.listing_id);var n=m.api.url+"/listings?listingID="+t;fetch(n).then((function(e){return e.json()})).then((function(t){e.setState({listing:t[0]}),console.log(t)}))}},{key:"removeListing",value:function(e){var t=this;console.log("removing: "+e),Object(C.a)(w.a.mark((function e(){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.api.url+"/listings",e.next=3,fetch(n,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({listingID:t.state.listing_id})});case 3:return s=e.sent,e.next=6,s.json();case 6:200===e.sent.statusCode&&(alert("Listing removed."),t.props.history.push("/"));case 8:case"end":return e.stop()}}),e)})))()}},{key:"requestListing",value:function(e){var t=this;console.log("requesting: "+e),Object(C.a)(w.a.mark((function e(){var n,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.api.url+"/requests",e.next=3,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:"johndoe",listing:t.state.listing_id})});case 3:return s=e.sent,e.next=6,s.json();case 6:c=e.sent,console.log(c),200===c.statusCode&&(alert("Request sent."),t.props.history.push("/"));case 9:case"end":return e.stop()}}),e)})))()}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{class:"content",children:[Object(d.jsx)("img",{style:{width:500},src:v,alt:this.state.listing.Book}),Object(d.jsx)("h3",{children:this.state.listing.Book}),Object(d.jsxs)("p",{children:["Available for: ",this.state.listing.Duration]}),Object(d.jsxs)("p",{children:["Location: ",this.state.listing.Location]}),Object(d.jsxs)("p",{children:["Listing status: ",this.state.listing.Status]}),Object(d.jsx)("button",{class:"",onClick:this.requestListing.bind(this,this.state.listing_id),children:"Request to borrow this listing"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{class:"error",onClick:this.removeListing.bind(this,this.state.listing_id),children:"Delete this listing"})]})]})}}]),n}(c.a.Component),I=n(15);var D=function(){var e=Object(s.useState)(""),t=Object(I.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),i=Object(I.a)(a,2),r=i[0],l=i[1],j=Object(s.useState)(0),h=Object(I.a)(j,2),u=h[0],b=h[1],O=Object(s.useState)(""),x=Object(I.a)(O,2),v=x[0],g=x[1],f=Object(o.f)();return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"New User Review"}),Object(d.jsx)("h4",{children:"Review Information"}),Object(d.jsxs)("form",{className:"flex two-800 one",onSubmit:function(e){var t=m.api.url+"/user-review";fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({Username:n,Reviewer:r,Rating:u,Comment:v})}).then((function(e){e.json().then((function(e){200===e.statusCode&&f.push("/user-review/"+e.ReviewID)}))})).catch((function(e){return console.log(e)})),e.preventDefault()},children:[Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:n,name:"username",onChange:function(e){return c(e.target.value)},placeholder:"User being reviewed"})}),Object(d.jsx)("label",{children:Object(d.jsx)("input",{type:"text",value:r,name:"reviewer",onChange:function(e){return l(e.target.value)},placeholder:"Reviewer"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Rating (between 0 and 5):"}),Object(d.jsx)("input",{type:"range",value:u,name:"rating",min:"0",max:"5",step:"1",onChange:function(e){return b(Number(e.target.value))},placeholder:"Rating 1-5"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Comments"}),Object(d.jsx)("textarea",{value:v,name:"comment",onChange:function(e){return g(e.target.value)},placeholder:"Comments"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"submit",value:"Submit"})})]}),Object(d.jsx)("h4",{children:"Photo backing up comment (OPTIONAL)"}),Object(d.jsx)("div",{style:{width:200},children:Object(d.jsx)("label",{className:"dropimage",children:Object(d.jsx)("input",{title:"Drop image or click me",type:"file"})})})]})]})};var R=function(e){var t=Object(s.useState)(""),n=Object(I.a)(t,2),c=n[0],a=n[1];return Object(s.useEffect)((function(){var t=e.match.params.id,n=m.api.url+"/user-review/"+t;fetch(n).then((function(e){e.json().then((function(e){console.log(e),a(e)})).catch((function(e){return console.log(e)}))}))}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{children:c})})]})},A=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={user:{},username:""},s}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log("setting state id: "+t),this.setState({username:t}),console.log("state: "+this.state.username);var n=m.api.url+"/users/"+t;fetch(n).then((function(e){return e.json()})).then((function(t){e.setState({user:t})}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsxs)("div",{class:"content",children:[Object(d.jsxs)("h3",{children:["User: ",this.state.user.username]}),Object(d.jsxs)("p",{children:["Location: ",this.state.user.location]}),Object(d.jsxs)("p",{children:["Rating: ",this.state.user.rating]}),Object(d.jsxs)("p",{children:["User class: ",this.state.user.type]})]})]})}}]),n}(c.a.Component);var T=function(e){var t=Object(s.useState)([]),n=Object(I.a)(t,2),c=n[0],a=n[1];return Object(s.useEffect)((function(){var e=m.api.url+"/user-review/";fetch(e).then((function(e){e.json().then((function(e){a(e.body)})).catch((function(e){return console.log(e)}))}))}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(p,{}),Object(d.jsx)("div",{className:"content",children:c.map((function(e){return Object(d.jsxs)("li",{children:[e.Username,", ",e.Reviewer,", ",e.Rating,", ",e.Comment]})}))})]})};i.a.render(Object(d.jsx)(r.a,{children:Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/",component:f}),Object(d.jsx)(o.a,{exact:!0,path:"/login",component:y}),Object(d.jsx)(o.a,{exact:!0,path:"/register",component:S}),Object(d.jsx)(o.a,{exact:!0,path:"/newlisting",component:L}),Object(d.jsx)(o.a,{exact:!0,path:"/listing/:id",component:N}),Object(d.jsx)(o.a,{exact:!0,path:"/user/:id",component:A}),Object(d.jsx)(o.a,{exact:!0,path:"/new-review",component:D}),Object(d.jsx)(o.a,{exact:!0,path:"/user-review/:id",component:R}),Object(d.jsx)(o.a,{exact:!0,path:"/user-reviews",component:T})]})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.6e0f8925.chunk.js.map