{"version":3,"sources":["img/book.webp","components/Nav.js","img/book.jpeg","components/Feed.js","App.js","pages/Login.js","pages/Register.js","pages/NewListing.js","pages/Listing.js","index.js"],"names":["Nav","className","class","to","src","logo","alt","id","type","for","React","Component","Feed","state","books","apiUrl","config","api","url","fetch","then","response","json","data","console","log","feed","map","ListingID","listingURL","book_placeholder","name","Book","Location","Username","setState","placeholder","this","App","Login","Register","NewListing","props","username","location","book","duration","author","handleInputChange","bind","handleSubmit","event","target","value","a","method","headers","Accept","body","JSON","stringify","rawResponse","content","statusCode","listingID","history","push","preventDefault","onSubmit","onChange","style","width","title","Listing","listing","listing_id","match","params","Duration","Status","onClick","removeListing","ReactDOM","render","exact","path","component","HomePage","LoginPage","RegisterPage","NewListingPage","ListingPage","document","getElementById"],"mappings":"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","file":"static/js/main.626858b6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/book.a8f23354.webp\";","import React from \"react\";\nimport logo from \"../img/book.webp\";\nimport { Link } from \"react-router-dom\";\n\nclass Nav extends React.Component {\n  render() {\n    return (\n      <header className=\"App-header\">\n        <nav>\n          <Link class=\"brand\" to=\"/\">\n            <img class=\"logo\" src={logo} alt=\"logo\" />\n            <span>Book Bank</span>\n          </Link>\n\n          <input id=\"bmenub\" type=\"checkbox\" class=\"show\"></input>\n          <label for=\"bmenub\" class=\"burger pseudo button\">\n            Menu\n          </label>\n\n          <div class=\"menu\">\n            <Link class=\"button success\" to=\"/newlisting\">\n              New Listing\n            </Link>\n            <Link class=\"pseudo button\" to=\"/login\">\n              Login\n            </Link>\n            <Link class=\"button\" to=\"/register\">\n              Register\n            </Link>\n          </div>\n        </nav>\n      </header>\n    );\n  }\n}\n\nexport default Nav;\n","export default __webpack_public_path__ + \"static/media/book.f7479a13.jpeg\";","import React from \"react\";\nimport book_placeholder from \"../img/book.jpeg\";\n\nimport { Link } from \"react-router-dom\";\n\nimport config from \"../config.json\";\n\nclass Feed extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      books: [],\n    };\n  }\n\n  componentDidMount() {\n    const apiUrl = config.api.url + \"/listings\";\n    fetch(apiUrl)\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        let feed = data.map((id) => {\n          console.log(id.ListingID);\n          let listingURL = \"/listing/\" + id.ListingID;\n          return (\n            <div key={id.ListingID}>\n              <article class=\"card\">\n                <img src={book_placeholder} alt={id.name}></img>\n                <footer>\n                  <h3>{id.Book}</h3>\n                  <p>by: David Foster Wallace</p>\n                  <p>Location: {id.Location}</p>\n                  <p>Posted by: {id.Username}</p>\n                  <div>\n                    <Link class=\"\" to={listingURL}>\n                      <button>View</button>\n                    </Link>\n                  </div>\n                  <div>\n                    <Link class=\"\" to={listingURL}>\n                      <button class=\"error\">Remove</button>\n                    </Link>\n                  </div>\n                </footer>\n              </article>\n            </div>\n          );\n        });\n        this.setState({ feed: feed });\n      });\n  }\n\n  render() {\n    return (\n      <div>\n        <div class=\"flex three-800 one\">\n          <div>\n            <input type=\"text\" placeholder=\"Book\"></input>\n          </div>\n          <div>\n            <input type=\"text\" placeholder=\"Location\"></input>\n          </div>\n          <div class=\"menu\">\n            <select>\n              <option>Novels</option>\n              <option>Textbooks</option>\n              <option>Magazines</option>\n              <option>Other</option>\n            </select>\n          </div>\n        </div>\n\n        <div class=\"results flex four-1100 three-800 two-500 one\">\n          {this.state.feed}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Feed;\n","import React from \"react\";\n\nimport \"./css/App.css\";\nimport \"./css/Picnic.css\";\n\nimport Nav from \"./components/Nav\";\nimport Feed from \"./components/Feed\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Nav />\n\n      <div class=\"content\">\n        <h2>\n          Welcome to Book Bank: The peer to peer library for physical books.\n        </h2>\n\n        <Feed />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\n\nimport \"../css/App.css\";\nimport \"../css/Picnic.css\";\n\nimport Nav from \"../components/Nav\";\n\nfunction Login() {\n  return (\n    <div className=\"App\">\n      <Nav />\n      <div class=\"content\">\n        <h1>Login</h1>\n        <fieldset class=\"flex two-800 one\">\n          <label>\n            <input type=\"email\" placeholder=\"Email\"></input>\n          </label>\n          <label>\n            <input type=\"password\" placeholder=\"Password\"></input>\n          </label>\n        </fieldset>\n        <button>Login</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\n\nimport Nav from \"../components/Nav\";\n\nfunction Register() {\n  return (\n    <div className=\"App\">\n      <Nav />\n      <div class=\"content\">\n        <h1>Register</h1>\n        <fieldset class=\"flex two-800 one\">\n          <label>\n            <input type=\"email\" placeholder=\"Email\"></input>\n          </label>\n          <label>\n            <input type=\"password\" placeholder=\"Password\"></input>\n          </label>\n          <label>\n            <input type=\"text\" placeholder=\"Name\"></input>\n          </label>\n          <label>\n            <input type=\"text\" placeholder=\"Location\"></input>\n          </label>\n        </fieldset>\n        <button>Register</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Register;\n","import React from \"react\";\n\nimport \"../css/App.css\";\nimport \"../css/Picnic.css\";\n\nimport Nav from \"../components/Nav\";\n\nimport config from \"../config.json\";\n\nclass NewListing extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: \"\",\n      location: \"\",\n      book: \"\",\n      duration: \"\",\n      author: \"\",\n    };\n\n    this.handleInputChange = this.handleInputChange.bind(this);\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleSubmit(event) {\n    (async () => {\n      const apiUrl = config.api.url + \"/listings\";\n      const rawResponse = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(this.state),\n      });\n      const content = await rawResponse.json();\n\n      if (content.statusCode === 200) {\n        let listingURL = \"/listing/\" + content.body.listingID;\n        console.log(\"redirecting to new post: \" + listingURL);\n        this.props.history.push(listingURL);\n      } else {\n        // TODO: Error modal\n      }\n    })();\n\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Nav />\n        <div class=\"content\">\n          <h1>New Listing</h1>\n          <h4>Item Information</h4>\n\n          <form class=\"flex two-800 one\" onSubmit={this.handleSubmit}>\n            <label>\n              <input\n                type=\"text\"\n                value={this.state.book}\n                name=\"book\"\n                onChange={this.handleInputChange}\n                placeholder=\"Book Title\"\n              ></input>\n            </label>\n            <label>\n              <input\n                type=\"text\"\n                value={this.state.author}\n                name=\"author\"\n                onChange={this.handleInputChange}\n                placeholder=\"Author\"\n              ></input>\n            </label>\n            <label>\n              <input\n                type=\"text\"\n                value={this.state.location}\n                name=\"location\"\n                onChange={this.handleInputChange}\n                placeholder=\"Location\"\n              ></input>\n            </label>\n            <label>\n              <input\n                type=\"text\"\n                value={this.state.duration}\n                name=\"duration\"\n                onChange={this.handleInputChange}\n                placeholder=\"Duration\"\n              ></input>\n            </label>\n            <label>\n              <input\n                type=\"text\"\n                value={this.state.username}\n                name=\"username\"\n                onChange={this.handleInputChange}\n                placeholder=\"Username\"\n              ></input>\n            </label>\n            <div>\n              <input type=\"submit\" value=\"Submit\"></input>\n            </div>\n          </form>\n\n          <h4>Photo of book (highly reccomended)</h4>\n          <div style={{ width: 200 }}>\n            <label class=\"dropimage\">\n              <input title=\"Drop image or click me\" type=\"file\"></input>\n            </label>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default NewListing;\n","import React from \"react\";\n\nimport \"../css/App.css\";\nimport \"../css/Picnic.css\";\n\nimport Nav from \"../components/Nav\";\n\nimport config from \"../config.json\";\n\nclass Listing extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listing: {},\n      listing_id: \"\",\n    };\n  }\n  componentDidMount() {\n    let { id } = this.props.match.params;\n    console.log(\"setting state id: \" + id);\n    this.setState({ listing_id: id });\n    console.log(\"state: \" + this.state.listing_id);\n\n    // TODO: Pull listing info and display it\n\n    const apiUrl = config.api.url + \"/listings?listingID=\" + id;\n    fetch(apiUrl)\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({ listing: data[0] });\n        console.log(data);\n      });\n  }\n\n  removeListing(id) {\n    console.log(\"removing: \" + id);\n\n    (async () => {\n      const apiUrl = config.api.url + \"/listings\";\n      const rawResponse = await fetch(apiUrl, {\n        method: \"DELETE\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ listingID: this.state.listing_id }),\n      });\n      const content = await rawResponse.json();\n\n      if (content.statusCode === 200) {\n        this.props.history.push(\"/\");\n      } else {\n        // TODO: Error modal\n      }\n    })();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Nav />\n        <div class=\"content\">\n          <p>{this.state.listing.Book}</p>\n          <p>{this.state.listing.Duration}</p>\n          <p>{this.state.listing.Location}</p>\n          <p>{this.state.listing.Status}</p>\n\n          <button\n            class=\"error\"\n            onClick={this.removeListing.bind(this, this.state.listing_id)}\n          >\n            Delete this listing\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Listing;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"./index.css\";\n\nimport HomePage from \"./App\";\nimport LoginPage from \"./pages/Login\";\nimport RegisterPage from \"./pages/Register\";\nimport NewListingPage from \"./pages/NewListing\";\nimport ListingPage from \"./pages/Listing\";\n\nReactDOM.render(\n  <Router>\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route exact path=\"/login\" component={LoginPage} />\n      <Route exact path=\"/register\" component={RegisterPage} />\n      <Route exact path=\"/newlisting\" component={NewListingPage} />\n      <Route exact path=\"/listing/:id\" component={ListingPage} />\n    </Switch>\n  </Router>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}