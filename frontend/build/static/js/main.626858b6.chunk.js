(this["webpackJsonpbook-bank"]=this["webpackJsonpbook-bank"]||[]).push([[0],{12:function(e){e.exports=JSON.parse('{"api":{"url":"https://eki60x9m4a.execute-api.us-east-1.amazonaws.com/dev"}}')},17:function(e,t,n){},18:function(e,t,n){},31:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),i=n(24),a=n.n(i),o=n(7),l=n(2),r=(n(31),n(17),n(18),n(8)),j=n(9),h=n(11),b=n(10),d=n.p+"static/media/book.a8f23354.webp",u=n(0),p=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(u.jsx)("header",{className:"App-header",children:Object(u.jsxs)("nav",{children:[Object(u.jsxs)(o.b,{class:"brand",to:"/",children:[Object(u.jsx)("img",{class:"logo",src:d,alt:"logo"}),Object(u.jsx)("span",{children:"Book Bank"})]}),Object(u.jsx)("input",{id:"bmenub",type:"checkbox",class:"show"}),Object(u.jsx)("label",{for:"bmenub",class:"burger pseudo button",children:"Menu"}),Object(u.jsxs)("div",{class:"menu",children:[Object(u.jsx)(o.b,{class:"button success",to:"/newlisting",children:"New Listing"}),Object(u.jsx)(o.b,{class:"pseudo button",to:"/login",children:"Login"}),Object(u.jsx)(o.b,{class:"button",to:"/register",children:"Register"})]})]})})}}]),n}(c.a.Component),x=n.p+"static/media/book.f7479a13.jpeg",O=n(12),g=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={books:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=O.api.url+"/listings";fetch(t).then((function(e){return e.json()})).then((function(t){console.log(t);var n=t.map((function(e){console.log(e.ListingID);var t="/listing/"+e.ListingID;return Object(u.jsx)("div",{children:Object(u.jsxs)("article",{class:"card",children:[Object(u.jsx)("img",{src:x,alt:e.name}),Object(u.jsxs)("footer",{children:[Object(u.jsx)("h3",{children:e.Book}),Object(u.jsx)("p",{children:"by: David Foster Wallace"}),Object(u.jsxs)("p",{children:["Location: ",e.Location]}),Object(u.jsxs)("p",{children:["Posted by: ",e.Username]}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{class:"",to:t,children:Object(u.jsx)("button",{children:"View"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(o.b,{class:"",to:t,children:Object(u.jsx)("button",{class:"error",children:"Remove"})})})]})]})},e.ListingID)}));e.setState({feed:n})}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{class:"flex three-800 one",children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",placeholder:"Book"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",placeholder:"Location"})}),Object(u.jsx)("div",{class:"menu",children:Object(u.jsxs)("select",{children:[Object(u.jsx)("option",{children:"Novels"}),Object(u.jsx)("option",{children:"Textbooks"}),Object(u.jsx)("option",{children:"Magazines"}),Object(u.jsx)("option",{children:"Other"})]})})]}),Object(u.jsx)("div",{class:"results flex four-1100 three-800 two-500 one",children:this.state.feed})]})}}]),n}(c.a.Component);var m=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsxs)("div",{class:"content",children:[Object(u.jsx)("h2",{children:"Welcome to Book Bank: The peer to peer library for physical books."}),Object(u.jsx)(g,{})]})]})};var v=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsxs)("div",{class:"content",children:[Object(u.jsx)("h1",{children:"Login"}),Object(u.jsxs)("fieldset",{class:"flex two-800 one",children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"email",placeholder:"Email"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"password",placeholder:"Password"})})]}),Object(u.jsx)("button",{children:"Login"})]})]})};var f=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsxs)("div",{class:"content",children:[Object(u.jsx)("h1",{children:"Register"}),Object(u.jsxs)("fieldset",{class:"flex two-800 one",children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"email",placeholder:"Email"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"password",placeholder:"Password"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",placeholder:"Name"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",placeholder:"Location"})})]}),Object(u.jsx)("button",{children:"Register"})]})]})},y=n(14),k=n.n(y),w=n(19),C=n(26),I=n(16),L=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={username:"",location:"",book:"",duration:"",author:""},s.handleInputChange=s.handleInputChange.bind(Object(I.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(I.a)(s)),s}return Object(j.a)(n,[{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,s=t.name;this.setState(Object(C.a)({},s,n))}},{key:"handleSubmit",value:function(e){var t=this;Object(w.a)(k.a.mark((function e(){var n,s,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.api.url+"/listings",e.next=3,fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t.state)});case 3:return s=e.sent,e.next=6,s.json();case 6:200===(c=e.sent).statusCode&&(i="/listing/"+c.body.listingID,console.log("redirecting to new post: "+i),t.props.history.push(i));case 8:case"end":return e.stop()}}),e)})))(),e.preventDefault()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsxs)("div",{class:"content",children:[Object(u.jsx)("h1",{children:"New Listing"}),Object(u.jsx)("h4",{children:"Item Information"}),Object(u.jsxs)("form",{class:"flex two-800 one",onSubmit:this.handleSubmit,children:[Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",value:this.state.book,name:"book",onChange:this.handleInputChange,placeholder:"Book Title"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",value:this.state.author,name:"author",onChange:this.handleInputChange,placeholder:"Author"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",value:this.state.location,name:"location",onChange:this.handleInputChange,placeholder:"Location"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",value:this.state.duration,name:"duration",onChange:this.handleInputChange,placeholder:"Duration"})}),Object(u.jsx)("label",{children:Object(u.jsx)("input",{type:"text",value:this.state.username,name:"username",onChange:this.handleInputChange,placeholder:"Username"})}),Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"submit",value:"Submit"})})]}),Object(u.jsx)("h4",{children:"Photo of book (highly reccomended)"}),Object(u.jsx)("div",{style:{width:200},children:Object(u.jsx)("label",{class:"dropimage",children:Object(u.jsx)("input",{title:"Drop image or click me",type:"file"})})})]})]})}}]),n}(c.a.Component),D=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).state={listing:{},listing_id:""},s}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log("setting state id: "+t),this.setState({listing_id:t}),console.log("state: "+this.state.listing_id);var n=O.api.url+"/listings?listingID="+t;fetch(n).then((function(e){return e.json()})).then((function(t){e.setState({listing:t[0]}),console.log(t)}))}},{key:"removeListing",value:function(e){var t=this;console.log("removing: "+e),Object(w.a)(k.a.mark((function e(){var n,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.api.url+"/listings",e.next=3,fetch(n,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({listingID:t.state.listing_id})});case 3:return s=e.sent,e.next=6,s.json();case 6:200===e.sent.statusCode&&t.props.history.push("/");case 8:case"end":return e.stop()}}),e)})))()}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),Object(u.jsxs)("div",{class:"content",children:[Object(u.jsx)("p",{children:this.state.listing.Book}),Object(u.jsx)("p",{children:this.state.listing.Duration}),Object(u.jsx)("p",{children:this.state.listing.Location}),Object(u.jsx)("p",{children:this.state.listing.Status}),Object(u.jsx)("button",{class:"error",onClick:this.removeListing.bind(this,this.state.listing_id),children:"Delete this listing"})]})]})}}]),n}(c.a.Component);a.a.render(Object(u.jsx)(o.a,{children:Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/",component:m}),Object(u.jsx)(l.a,{exact:!0,path:"/login",component:v}),Object(u.jsx)(l.a,{exact:!0,path:"/register",component:f}),Object(u.jsx)(l.a,{exact:!0,path:"/newlisting",component:L}),Object(u.jsx)(l.a,{exact:!0,path:"/listing/:id",component:D})]})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.626858b6.chunk.js.map