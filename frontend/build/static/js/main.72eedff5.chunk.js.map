{"version":3,"sources":["img/book.webp","components/Nav.js","img/book.jpeg","components/Feed.js","App.js","pages/Login.js","pages/Register.js","pages/NewListing.js","pages/Listing.js","pages/NewUserReview.js","pages/UserReview.js","pages/User.js","pages/UserReviews.js","index.js"],"names":["Nav","className","class","to","src","logo","alt","id","type","for","React","Component","Feed","state","books","search_book","search_location","handleChange","bind","search","console","log","JSON","stringify","apiUrl","config","api","url","fetch","then","response","json","data","feed","Object","keys","length","map","ListingID","listingURL","book_placeholder","name","Book","Location","Username","setState","event","target","value","this","updateSearch","placeholder","onChange","App","AmazonCognitoIdentity","require","poolData","UserPoolId","cognito","ClientId","userPool","CognitoUserPool","Login","props","username","password","handleInputChange","handleSubmit","preventDefault","authenticationData","Password","authenticationDetails","AuthenticationDetails","userData","Pool","CognitoUser","authenticateUser","onSuccess","result","accessToken","getAccessToken","getJwtToken","AWS","region","credentials","IdentityPoolId","Logins","getIdToken","refresh","error","onFailure","err","alert","message","onSubmit","Register","email","location","attributeList","dataEmail","Name","Value","dataLocale","attributeLocale","CognitoUserAttribute","attributeEmail","push","signUp","cognitoUser","user","getUsername","history","NewListing","book","duration","author","a","method","headers","Accept","body","rawResponse","content","statusCode","listingID","style","width","title","Listing","listing","listing_id","match","params","Duration","Status","onClick","requestListing","removeListing","NewUserReview","useState","setUsername","reviewer","setReviewer","rating","setRating","comment","setComment","useHistory","Reviewer","Rating","Comment","res","ReviewID","catch","min","max","step","Number","UserReview","setData","useEffect","User","review","ReactDOM","render","exact","path","component","HomePage","LoginPage","RegisterPage","NewListingPage","ListingPage","UserPage","UserReviewPage","AllUserReviews","document","getElementById"],"mappings":"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","file":"static/js/main.72eedff5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/book.a8f23354.webp\";","import React from \"react\";\r\nimport logo from \"../img/book.webp\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Nav extends React.Component {\r\n  render() {\r\n    return (\r\n      <header className=\"App-header\">\r\n        <nav>\r\n          <Link class=\"brand\" to=\"/\">\r\n            <img class=\"logo\" src={logo} alt=\"logo\" />\r\n            <span>Book Bank</span>\r\n          </Link>\r\n\r\n          <input id=\"bmenub\" type=\"checkbox\" class=\"show\"></input>\r\n          <label for=\"bmenub\" class=\"burger pseudo button\">\r\n            Menu\r\n          </label>\r\n\r\n          <div class=\"menu\">\r\n            <Link class=\"button success\" to=\"/newlisting\">\r\n              New Listing\r\n            </Link>\r\n            <Link class=\"button success\" to=\"/new-review\">\r\n              New Review\r\n            </Link>\r\n            <Link class=\"button success\" to=\"/user-reviews\">\r\n              See Reviews\r\n            </Link>\r\n            <Link class=\"pseudo button\" to=\"/login\">\r\n              Login\r\n            </Link>\r\n            <Link class=\"button\" to=\"/register\">\r\n              Register\r\n            </Link>\r\n          </div>\r\n        </nav>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Nav;\r\n","export default __webpack_public_path__ + \"static/media/book.f7479a13.jpeg\";","import React from \"react\";\r\nimport book_placeholder from \"../img/book.jpeg\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport config from \"../config.json\";\r\n\r\nclass Feed extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      books: [],\r\n      search_book: \"\",\r\n      search_location: \"\",\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  updateSearch(search) {\r\n    // TODO: Use search_book and search_location to filter search\r\n    console.log(JSON.stringify(search));\r\n\r\n    const apiUrl = config.api.url + \"/listings?book=\" + search;\r\n\r\n    fetch(apiUrl)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        let feed = \"\";\r\n        if (Object.keys(data).length === 0) {\r\n          feed =\r\n            \"Uh oh. Looks like there aren't any books available for this search.\";\r\n        } else {\r\n          feed = data.map((id) => {\r\n            console.log(id.ListingID);\r\n            let listingURL = \"/listing/\" + id.ListingID;\r\n            return (\r\n              <div key={id.ListingID}>\r\n                <article class=\"card\">\r\n                  <img src={book_placeholder} alt={id.name}></img>\r\n                  <footer>\r\n                    <h3>{id.Book}</h3>\r\n                    <p>by: David Foster Wallace</p>\r\n                    <p>Location: {id.Location}</p>\r\n                    <p>Posted by: {id.Username}</p>\r\n                    <div>\r\n                      <Link class=\"\" to={listingURL}>\r\n                        <button>View</button>\r\n                      </Link>\r\n                    </div>\r\n                    <div>\r\n                      <Link class=\"\" to={listingURL}>\r\n                        <button class=\"error\">Remove</button>\r\n                      </Link>\r\n                    </div>\r\n                  </footer>\r\n                </article>\r\n              </div>\r\n            );\r\n          });\r\n        }\r\n\r\n        this.setState({ feed: feed });\r\n      });\r\n  }\r\n\r\n  handleChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n\r\n    this.updateSearch(event.target.value);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const apiUrl = config.api.url + \"/listings\";\r\n    fetch(apiUrl)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        let feed = \"\";\r\n        if (Object.keys(data).length === 0) {\r\n          feed =\r\n            \"Uh oh. Looks like there aren't any books available for this search.\";\r\n        } else {\r\n          feed = data.map((id) => {\r\n            console.log(id.ListingID);\r\n            let listingURL = \"/listing/\" + id.ListingID;\r\n            return (\r\n              <div key={id.ListingID}>\r\n                <article class=\"card\">\r\n                  <img src={book_placeholder} alt={id.name}></img>\r\n                  <footer>\r\n                    <h3>{id.Book}</h3>\r\n                    <p>by: David Foster Wallace</p>\r\n                    <p>Location: {id.Location}</p>\r\n                    <p>Posted by: {id.Username}</p>\r\n                    <div>\r\n                      <Link class=\"\" to={listingURL}>\r\n                        <button>View</button>\r\n                      </Link>\r\n                    </div>\r\n                    <div>\r\n                      <Link class=\"\" to={listingURL}>\r\n                        <button class=\"error\">Remove</button>\r\n                      </Link>\r\n                    </div>\r\n                  </footer>\r\n                </article>\r\n              </div>\r\n            );\r\n          });\r\n        }\r\n\r\n        console.log(\"feed\" + feed);\r\n\r\n        this.setState({ feed: feed });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div class=\"flex three-800 one\">\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Book\"\r\n              value={this.state.search_book}\r\n              name=\"search_book\"\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </div>\r\n          <div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Location\"\r\n              value={this.state.search_location}\r\n              name=\"search_location\"\r\n              onChange={this.handleChange}\r\n            ></input>\r\n          </div>\r\n          <div class=\"menu\">\r\n            <select>\r\n              <option>Novels</option>\r\n              <option>Textbooks</option>\r\n              <option>Magazines</option>\r\n              <option>Other</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"results flex four-1100 three-800 two-500 one\">\r\n          {this.state.feed}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Feed;\r\n","import React from \"react\";\r\n\r\nimport \"./css/App.css\";\r\nimport \"./css/Picnic.css\";\r\n\r\nimport Nav from \"./components/Nav\";\r\nimport Feed from \"./components/Feed\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Nav />\r\n\r\n      <div class=\"content\">\r\n        <h2>\r\n          Welcome to Book Bank: The peer to peer library for physical books.\r\n        </h2>\r\n\r\n        <Feed />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport * as AWS from \"aws-sdk/global\";\r\n\r\nimport \"../css/App.css\";\r\nimport \"../css/Picnic.css\";\r\n\r\nimport Nav from \"../components/Nav\";\r\n\r\nimport config from \"../config.json\";\r\n\r\nvar AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\r\n\r\nvar poolData = {\r\n  UserPoolId: config.cognito.UserPoolId,\r\n  ClientId: config.cognito.ClientId,\r\n};\r\nvar userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    console.log(\"submit login\");\r\n\r\n    var authenticationData = {\r\n      Username: this.state.username,\r\n      Password: this.state.password,\r\n    };\r\n    var authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(\r\n      authenticationData\r\n    );\r\n    var userData = {\r\n      Username: this.state.username,\r\n      Pool: userPool,\r\n    };\r\n\r\n    var cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);\r\n    cognitoUser.authenticateUser(authenticationDetails, {\r\n      onSuccess: function (result) {\r\n        var accessToken = result.getAccessToken().getJwtToken();\r\n\r\n        AWS.config.region = \"us-east-1\";\r\n\r\n        AWS.config.credentials = new AWS.CognitoIdentityCredentials({\r\n          IdentityPoolId: config.cognito.IdentityPoolId, // your identity pool id here\r\n          Logins: {\r\n            \"cognito-idp.us-east-1.amazonaws.com/us-east-1_6en0He0uy\": result\r\n              .getIdToken()\r\n              .getJwtToken(),\r\n          },\r\n        });\r\n\r\n        AWS.config.credentials.refresh((error) => {\r\n          if (error) {\r\n            console.error(error);\r\n          } else {\r\n            // Instantiate aws sdk service objects now that the credentials have been updated.\r\n            console.log(\"Successfully logged! token: \" + accessToken);\r\n          }\r\n        });\r\n      },\r\n\r\n      onFailure: function (err) {\r\n        alert(err.message || JSON.stringify(err));\r\n      },\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Nav />\r\n        <div class=\"content\">\r\n          <h1>Login</h1>\r\n          <form class=\"flex two-800 one\" onSubmit={this.handleSubmit}>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.username}\r\n                name=\"username\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Username\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"password\"\r\n                value={this.state.password}\r\n                name=\"password\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Password\"\r\n              ></input>\r\n            </label>\r\n            <div>\r\n              <input type=\"submit\" value=\"Login\"></input>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nimport Nav from \"../components/Nav\";\r\n\r\nimport config from \"../config.json\";\r\n\r\nvar AmazonCognitoIdentity = require(\"amazon-cognito-identity-js\");\r\n\r\nvar poolData = {\r\n  UserPoolId: config.cognito.UserPoolId,\r\n  ClientId: config.cognito.ClientId,\r\n};\r\nvar userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      username: \"\",\r\n      location: \"\",\r\n      password: \"\",\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    // Cognito register\r\n    var attributeList = [];\r\n\r\n    var dataEmail = {\r\n      Name: \"email\",\r\n      Value: this.state.email,\r\n    };\r\n\r\n    var dataLocale = {\r\n      Name: \"locale\",\r\n      Value: this.state.location,\r\n    };\r\n\r\n    var attributeLocale = new AmazonCognitoIdentity.CognitoUserAttribute(\r\n      dataLocale\r\n    );\r\n    var attributeEmail = new AmazonCognitoIdentity.CognitoUserAttribute(\r\n      dataEmail\r\n    );\r\n\r\n    attributeList.push(attributeLocale);\r\n    attributeList.push(attributeEmail);\r\n\r\n    let url = \"/user/\" + this.state.username;\r\n\r\n    userPool.signUp(\r\n      this.state.username,\r\n      this.state.password,\r\n      attributeList,\r\n      null,\r\n      function (err, result) {\r\n        if (err) {\r\n          alert(err.message || JSON.stringify(err));\r\n          return;\r\n        }\r\n        var cognitoUser = result.user;\r\n        console.log(\"user name is \" + cognitoUser.getUsername());\r\n      }\r\n    );\r\n    this.props.history.push(url);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Nav />\r\n        <div class=\"content\">\r\n          <h1>Register</h1>\r\n          <form class=\"flex two-800 one\" onSubmit={this.handleSubmit}>\r\n            <label>\r\n              <input\r\n                type=\"email\"\r\n                value={this.state.email}\r\n                name=\"email\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Email\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"password\"\r\n                value={this.state.password}\r\n                name=\"password\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Password\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.username}\r\n                name=\"username\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Username\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.location}\r\n                name=\"location\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Location\"\r\n              ></input>\r\n            </label>\r\n            <div>\r\n              <input type=\"submit\" value=\"Submit\"></input>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\n\r\nimport \"../css/App.css\";\r\nimport \"../css/Picnic.css\";\r\n\r\nimport Nav from \"../components/Nav\";\r\n\r\nimport config from \"../config.json\";\r\n\r\nclass NewListing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      location: \"\",\r\n      book: \"\",\r\n      duration: \"\",\r\n      author: \"\",\r\n    };\r\n\r\n    this.handleInputChange = this.handleInputChange.bind(this);\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleInputChange(event) {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    (async () => {\r\n      const apiUrl = config.api.url + \"/listings\";\r\n      const rawResponse = await fetch(apiUrl, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(this.state),\r\n      });\r\n      const content = await rawResponse.json();\r\n\r\n      if (content.statusCode === 200) {\r\n        let listingURL = \"/listing/\" + content.body.listingID;\r\n        console.log(\"redirecting to new post: \" + listingURL);\r\n        this.props.history.push(listingURL);\r\n      } else {\r\n        // TODO: Error modal\r\n      }\r\n    })();\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Nav />\r\n        <div class=\"content\">\r\n          <h1>New Listing</h1>\r\n          <h4>Item Information</h4>\r\n\r\n          <form class=\"flex two-800 one\" onSubmit={this.handleSubmit}>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.book}\r\n                name=\"book\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Book Title\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.author}\r\n                name=\"author\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Author\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.location}\r\n                name=\"location\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Location\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.duration}\r\n                name=\"duration\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Duration\"\r\n              ></input>\r\n            </label>\r\n            <label>\r\n              <input\r\n                type=\"text\"\r\n                value={this.state.username}\r\n                name=\"username\"\r\n                onChange={this.handleInputChange}\r\n                placeholder=\"Username\"\r\n              ></input>\r\n            </label>\r\n            <div>\r\n              <input type=\"submit\" value=\"Submit\"></input>\r\n            </div>\r\n          </form>\r\n\r\n          <h4>Photo of book (highly reccomended)</h4>\r\n          <div style={{ width: 200 }}>\r\n            <label class=\"dropimage\">\r\n              <input title=\"Drop image or click me\" type=\"file\"></input>\r\n            </label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewListing;\r\n","import React from \"react\";\r\n\r\nimport \"../css/App.css\";\r\nimport \"../css/Picnic.css\";\r\n\r\nimport book_placeholder from \"../img/book.jpeg\";\r\n\r\nimport Nav from \"../components/Nav\";\r\n\r\nimport config from \"../config.json\";\r\n\r\nclass Listing extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      listing: {},\r\n      listing_id: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let { id } = this.props.match.params;\r\n    console.log(\"setting state id: \" + id);\r\n    this.setState({ listing_id: id });\r\n    console.log(\"state: \" + this.state.listing_id);\r\n\r\n    // TODO: Pull listing info and display it\r\n\r\n    const apiUrl = config.api.url + \"/listings?listingID=\" + id;\r\n    fetch(apiUrl)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ listing: data[0] });\r\n        console.log(data);\r\n      });\r\n  }\r\n\r\n  removeListing(id) {\r\n    console.log(\"removing: \" + id);\r\n\r\n    (async () => {\r\n      const apiUrl = config.api.url + \"/listings\";\r\n      const rawResponse = await fetch(apiUrl, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ listingID: this.state.listing_id }),\r\n      });\r\n      const content = await rawResponse.json();\r\n\r\n      if (content.statusCode === 200) {\r\n        alert(\"Listing removed.\");\r\n        this.props.history.push(\"/\");\r\n      } else {\r\n        // TODO: Error modal\r\n      }\r\n    })();\r\n  }\r\n\r\n  requestListing(id) {\r\n    console.log(\"requesting: \" + id);\r\n\r\n    (async () => {\r\n      const apiUrl = config.api.url + \"/requests\";\r\n      const rawResponse = await fetch(apiUrl, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          username: \"johndoe\",\r\n          listing: this.state.listing_id,\r\n        }),\r\n      });\r\n      const content = await rawResponse.json();\r\n\r\n      console.log(content);\r\n\r\n      if (content.statusCode === 200) {\r\n        alert(\"Request sent.\");\r\n        this.props.history.push(\"/\");\r\n      } else {\r\n        // TODO: Error modal\r\n      }\r\n    })();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Nav />\r\n        <div class=\"content\">\r\n          <img\r\n            style={{ width: 500 }}\r\n            src={book_placeholder}\r\n            alt={this.state.listing.Book}\r\n          ></img>\r\n          <h3>{this.state.listing.Book}</h3>\r\n          <p>Available for: {this.state.listing.Duration}</p>\r\n          <p>Location: {this.state.listing.Location}</p>\r\n          <p>Listing status: {this.state.listing.Status}</p>\r\n\r\n          <button\r\n            class=\"\"\r\n            onClick={this.requestListing.bind(this, this.state.listing_id)}\r\n          >\r\n            Request to borrow this listing\r\n          </button>\r\n\r\n          <br></br>\r\n\r\n          <button\r\n            class=\"error\"\r\n            onClick={this.removeListing.bind(this, this.state.listing_id)}\r\n          >\r\n            Delete this listing\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Listing;\r\n","import React, { useState } from \"react\";\r\nimport Nav from \"../components/Nav\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport config from \"../config.json\";\r\n\r\nfunction NewUserReview() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [reviewer, setReviewer] = useState(\"\");\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(event) {\r\n    const apiUrl = config.api.url + \"/user-review\";\r\n    fetch(apiUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        Username: username,\r\n        Reviewer: reviewer,\r\n        Rating: rating,\r\n        Comment: comment,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        res.json().then((rawResponse) => {\r\n          if (rawResponse.statusCode === 200) {\r\n            history.push(\"/user-review/\" + rawResponse.ReviewID);\r\n          }\r\n        });\r\n      })\r\n      .catch((err) => console.log(err));\r\n    event.preventDefault();\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Nav />\r\n      <div className=\"content\">\r\n        <h1>New User Review</h1>\r\n        <h4>Review Information</h4>\r\n\r\n        <form className=\"flex two-800 one\" onSubmit={handleSubmit}>\r\n          <label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              name=\"username\"\r\n              onChange={(event) => setUsername(event.target.value)}\r\n              placeholder=\"User being reviewed\"\r\n            />\r\n          </label>\r\n          <label>\r\n            <input\r\n              type=\"text\"\r\n              value={reviewer}\r\n              name=\"reviewer\"\r\n              onChange={(event) => setReviewer(event.target.value)}\r\n              placeholder=\"Reviewer\"\r\n            />\r\n          </label>\r\n          <div>\r\n            <label>Rating (between 0 and 5):</label>\r\n            <input\r\n              type=\"range\"\r\n              value={rating}\r\n              name=\"rating\"\r\n              min=\"0\"\r\n              max=\"5\"\r\n              step=\"1\"\r\n              onChange={(event) => setRating(Number(event.target.value))}\r\n              placeholder=\"Rating 1-5\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label>Comments</label>\r\n            <textarea\r\n              value={comment}\r\n              name=\"comment\"\r\n              onChange={(event) => setComment(event.target.value)}\r\n              placeholder=\"Comments\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <input type=\"submit\" value=\"Submit\" />\r\n          </div>\r\n        </form>\r\n\r\n        <h4>Photo backing up comment (OPTIONAL)</h4>\r\n        <div style={{ width: 200 }}>\r\n          <label className=\"dropimage\">\r\n            <input title=\"Drop image or click me\" type=\"file\" />\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewUserReview;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Nav from \"../components/Nav\";\r\nimport config from \"../config.json\";\r\n\r\nfunction UserReview(props) {\r\n  const [data, setData] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let { id } = props.match.params;\r\n    const apiUrl = config.api.url + \"/user-review/\" + id;\r\n    fetch(apiUrl).then((response) => {\r\n      response\r\n        .json()\r\n        .then((rawResponse) => {\r\n          console.log(rawResponse);\r\n          setData(rawResponse);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Nav />\r\n      <div className=\"content\">\r\n        <p>{data}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserReview;\r\n","import React from \"react\";\r\n\r\nimport \"../css/App.css\";\r\nimport \"../css/Picnic.css\";\r\n\r\nimport Nav from \"../components/Nav\";\r\n\r\nimport config from \"../config.json\";\r\n\r\nclass User extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: {},\r\n      username: \"\",\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    let { id } = this.props.match.params;\r\n    console.log(\"setting state id: \" + id);\r\n    this.setState({ username: id });\r\n    console.log(\"state: \" + this.state.username);\r\n\r\n    const apiUrl = config.api.url + \"/users/\" + id;\r\n    fetch(apiUrl)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.setState({ user: data });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Nav />\r\n        <div class=\"content\">\r\n          {/* <h3>User: {this.state.user.name}</h3> */}\r\n          <h3>User: {this.state.user.username}</h3>\r\n          <p>Location: {this.state.user.location}</p>\r\n          <p>Rating: {this.state.user.rating}</p>\r\n          <p>User class: {this.state.user.type}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default User;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Nav from \"../components/Nav\";\r\nimport config from \"../config.json\";\r\n\r\nfunction UserReview(props) {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const apiUrl = config.api.url + \"/user-review/\";\r\n    fetch(apiUrl).then((response) => {\r\n      response\r\n        .json()\r\n        .then((rawResponse) => {\r\n          // console.log(rawResponse.body)\r\n          setData(rawResponse.body);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Nav />\r\n      <div className=\"content\">\r\n        {data.map((review) => (\r\n          <li>\r\n            {review.Username}, {review.Reviewer}, {review.Rating},{\" \"}\r\n            {review.Comment}\r\n          </li>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserReview;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport \"./index.css\";\r\n\r\nimport HomePage from \"./App\";\r\nimport LoginPage from \"./pages/Login\";\r\nimport RegisterPage from \"./pages/Register\";\r\nimport NewListingPage from \"./pages/NewListing\";\r\nimport ListingPage from \"./pages/Listing\";\r\nimport NewUserReview from \"./pages/NewUserReview\";\r\nimport UserReviewPage from \"./pages/UserReview\";\r\nimport UserPage from \"./pages/User\";\r\nimport AllUserReviews from \"./pages/UserReviews\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Switch>\r\n      <Route exact path=\"/\" component={HomePage} />\r\n      <Route exact path=\"/login\" component={LoginPage} />\r\n      <Route exact path=\"/register\" component={RegisterPage} />\r\n      <Route exact path=\"/newlisting\" component={NewListingPage} />\r\n      <Route exact path=\"/listing/:id\" component={ListingPage} />\r\n      <Route exact path=\"/user/:id\" component={UserPage} />\r\n      <Route exact path=\"/new-review\" component={NewUserReview} />\r\n      <Route exact path=\"/user-review/:id\" component={UserReviewPage} />\r\n      <Route exact path=\"/user-reviews\" component={AllUserReviews} />\r\n    </Switch>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n\r\n"],"sourceRoot":""}